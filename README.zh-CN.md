<p align="center">
  <a href="https://github.com/zjxxxxxxxxx/open-editor">
      <img width="120px" src="./public/logo.png" alt="Open Editor" />
      <h1 align="center">Open Editor</h1>
  </a>
</p>
</br>
<p align="center">
  <a href="https://github.com/zjxxxxxxxxx/open-editor/actions/workflows/ci.yml">
    <img alt="GitHub Workflow Status (with event)" src="https://img.shields.io/github/actions/workflow/status/zjxxxxxxxxx/open-editor/ci.yml?style=for-the-badge&logo=github&label=CI">
  </a>
  <img alt="GitHub" src="https://img.shields.io/github/license/zjxxxxxxxxx/open-editor?style=for-the-badge">
  </a>
</p>
<p align="center">
  <a href="./README.md">English</a> | <a href="./README.zh-CN.md">ç®€ä½“ä¸­æ–‡</a>
</p>
</br>

ğŸš€ğŸš€ğŸš€ ä¸€ä¸ªç”¨äºå¿«é€ŸæŸ¥æ‰¾æºä»£ç çš„ web å¼€å‘è°ƒè¯•å·¥å…·ã€‚

ä¸è®ºæ‚¨æ˜¯ä¸€ä¸ª`React`å¼€å‘è€…ï¼Œ è¿˜æ˜¯ä¸€ä¸ª`Vue`å¼€å‘è€…ï¼Œåˆæˆ–è€…æ˜¯ä¸€ä¸ª`React`ã€`Vue`åŒæ–™å¼€å‘è€…ï¼Œè¿™æ¬¾å¼€å‘å·¥å…·éƒ½å¯ä»¥å¸®åŠ©åˆ°æ‚¨ã€‚å®ƒèƒ½å¤Ÿå¸®æ‚¨çœå»å¤§é‡æŸ¥æ‰¾ä»£ç çš„æ—¶é—´ï¼Œä½¿æ‚¨èƒ½å¤Ÿæ›´åŠ ä¸“å¿ƒçš„ç¼–å†™ä»£ç ã€‚æ— è®ºåœ¨`React`è¿˜æ˜¯`Vue`ä¸­ï¼Œå®ƒéƒ½èƒ½å¤Ÿè¾¾åˆ°å®Œå…¨ç›¸åŒçš„æ•ˆæœã€‚

[â†“â†“â†“ ç‚¹å‡»è¿™é‡Œæ‰“å¼€ StackBlitz](https://stackblitz.com/github/zjxxxxxxxxx/open-editor/tree/main/playground/vite-react?embed=1&file=vite.config.ts&hideExplorer=1)
[![image](./public/demo.gif)](https://stackblitz.com/github/zjxxxxxxxxx/open-editor/tree/main/playground/vite-react?embed=1&file=vite.config.ts&hideExplorer=1)

> ä»…åœ¨ development ç”Ÿæ•ˆï¼Œéœ€è¦ Node.js ç‰ˆæœ¬ 14+ã€‚

## åŠŸèƒ½

- ğŸŒˆ æ”¯æŒ `React`ã€`Nextjs`ã€`Vue`ã€`Nuxt`ã€‚
- ğŸ”¥ æ”¯æŒ `Rollup`ã€`Vite`ã€`Webpack`ã€‚
- ğŸ¢ æ”¯æŒè·¨ iframe äº¤äº’ã€‚
- ğŸ•¹ï¸ æ”¯æŒç»„åˆå¼å¿«æ·é”®ã€‚
- ğŸ¯ æ”¯æŒç²¾å‡†å®šä½è¡Œå’Œåˆ—ã€‚
- ğŸš€ æ”¯æŒæŸ¥æ‰¾ç»„ä»¶æ ‘ã€‚
- ğŸ“± æ”¯æŒç§»åŠ¨è®¾å¤‡ã€‚
- ğŸ‘½ è‡ªåŠ¨æ‰“å¼€å¯ç”¨ç¼–è¾‘å™¨ã€‚

## ä½¿ç”¨

### React

> éœ€è¦ React ç‰ˆæœ¬ 15+ã€‚

`OpenEditor`éœ€è¦ä¸[`@babel/plugin-transform-react-jsx-source`](https://babeljs.io/docs/babel-plugin-transform-react-jsx-source)ä¸€èµ·ä½¿ç”¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºè·å–æºä»£ç è¡Œå’Œåˆ—ä¿¡æ¯çš„æ’ä»¶ï¼Œé€šå¸¸ä½ ä¸å¿…å…³æ³¨è¿™ä»¶äº‹æƒ…ï¼Œå› ä¸ºå®ƒä¸»è¦å†…ç½®åœ¨è„šæ‰‹æ¶å·¥å…·ä¸­ï¼Œå¦‚æœæ‚¨é‡åˆ°`OpenEditor`æ— æ³•æ‰“å¼€ä»£ç ç¼–è¾‘å™¨çš„é—®é¢˜ï¼Œè¿™å°†ä¼šæ˜¯ä¸€ä¸ªæ’æŸ¥é—®é¢˜çš„æ–¹å¼ã€‚

### Vue

> éœ€è¦ Vue ç‰ˆæœ¬ 2+ã€‚

`OpenEditor`éœ€è¦ä¸[`unplugin-vue-source`](https://github.com/zjxxxxxxxxx/unplugin-vue-source)ä¸€èµ·ä½¿ç”¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºè·å–æºä»£ç è¡Œå’Œåˆ—ä¿¡æ¯çš„æ’ä»¶ï¼Œå¦‚æœç¼ºå°‘è¿™ä¸ªæ’ä»¶ï¼Œå°†åªä¼šåœ¨ä»£ç ç¼–è¾‘å™¨ä¸­æ‰“å¼€æºä»£ç æ–‡ä»¶ï¼Œè€Œæ— æ³•å®šä½åˆ°è¡Œå’Œåˆ—ã€‚

### ä½¿ç”¨æ’ä»¶

> ç¤ºä¾‹ä»¥ [`vite/react`](https://github.com/zjxxxxxxxxx/open-editor/tree/main/playgrounds/vite-react) ä½œä¸ºå‚è€ƒï¼Œå…¶ä»–æƒ…å†µä¸‹åªæ˜¯é€‰æ‹©ä¸åŒè€Œå·²ï¼Œä½¿ç”¨æ–¹å¼æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚

é¦–å…ˆéœ€è¦å°†æ’ä»¶å®‰è£…åˆ°é¡¹ç›®ä¸­ã€‚

```bash
npm i @open-editor/vite -D
```

ç„¶åå°†æ’ä»¶æ·»åŠ åˆ°ç¼–è¯‘é…ç½®ä¸­ã€‚

```ts
// vite.config.ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import OpenEditor from '@open-editor/vite';

export default defineConfig({
  plugins: [
    react(),
    OpenEditor({
      // options
    }),
  ],
});
```

### å¯ç”¨æ£€æŸ¥å™¨

é¦–å…ˆéœ€è¦è®©é¡¹ç›®è¿è¡Œèµ·æ¥ã€‚

```bash
npm run dev
```

æ­¤æ—¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€é¡¹ç›®çš„æœ¬åœ°æœåŠ¡å™¨åœ°å€ï¼Œæ‚¨ä¼šçœ‹è§æµè§ˆå™¨çš„å³ä¸Šè§’å‡ºç°äº†ä¸€ä¸ªåˆ‡æ¢æŒ‰é’®ï¼Œè¿™ä¸ªåˆ‡æ¢æŒ‰é’®å¯ä»¥ç”¨äºåˆ‡æ¢æ£€æŸ¥å™¨çš„å¯ç”¨çŠ¶æ€ã€‚

> å¦‚æœæ‚¨è®¤ä¸ºåˆ‡æ¢æŒ‰é’®é®æŒ¡ä½äº†æ‚¨çš„ç”¨æˆ·ç•Œé¢ï¼Œæ‚¨å¯ä»¥é•¿æŒ‰åˆ‡æ¢æŒ‰é’®ï¼Œç­‰å¾…åˆ‡æ¢æŒ‰é’®è¿›å…¥å¯æ‹–æ‹½çŠ¶æ€åï¼Œä»¥æ‹–æ‹½çš„æ–¹å¼è°ƒæ•´åˆ‡æ¢æŒ‰é’®çš„æ˜¾ç¤ºä½ç½®

<img width="500" src="./public/toggle-button-demo.png" alt="toggle button demo"/>

ç‚¹å‡»ï¼ˆå¿«æ·é”®ï¼šâŒ¨ï¸ <kbd>option âŒ¥</kbd> + <kbd>command âŒ˜</kbd> + <kbd>O</kbd>ï¼‰æµè§ˆå™¨å³ä¸Šè§’çš„åˆ‡æ¢æŒ‰é’®å³å¯å¯ç”¨æ£€æŸ¥å™¨ï¼Œç„¶åï¼Œæˆ‘ä»¬ç§»åŠ¨é¼ æ ‡åˆ°éœ€è¦æ£€æŸ¥çš„å…ƒç´ ä¸Šå³å¯çœ‹è§æºä»£ç ä½ç½®ä¿¡æ¯ã€‚

<img width="500" src="./public/inspect-element-demo.png" alt="inspect element demo"/>

æ­¤æ—¶ç‚¹å‡»ï¼ˆå¿«æ·é”®ï¼šâŒ¨ï¸ <kbd>enter</kbd> ï¼‰å…ƒç´ å³å¯è‡ªåŠ¨åœ¨ä»£ç ç¼–è¾‘å™¨ä¸­æ‰“å¼€æºä»£ç æ–‡ä»¶ï¼Œå¹¶å®šä½åˆ°è¡Œå’Œåˆ—ã€‚

<img width="500" src="./public/open-editor-demo.png" alt="open editor demo"/>

æ­¤æ—¶ä¹Ÿå¯ä»¥é€‰æ‹©é•¿æŒ‰ï¼ˆå¿«æ·é”®1ï¼šâŒ¨ï¸ <kbd>backspace</kbd>ï¼Œå¿«æ·é”®2ï¼šâŒ¨ï¸ <kbd>command âŒ˜</kbd> + ğŸ–± clickï¼‰å…ƒç´ æŸ¥çœ‹å®Œæ•´ç»„ä»¶æ ‘ã€‚

<img width="500" src="./public/open-tree-demo.png" alt="open editor demo"/>

ç„¶åç‚¹å‡»æ ‘èŠ‚ç‚¹å³å¯è‡ªåŠ¨åœ¨ä»£ç ç¼–è¾‘å™¨ä¸­æ‰“å¼€æºä»£ç æ–‡ä»¶ï¼Œå¹¶å®šä½åˆ°è¡Œå’Œåˆ—ã€‚

<img width="500" src="./public/open-editor-demo.png" alt="open editor demo"/>

### é€€å‡ºæ£€æŸ¥å™¨

å†æ¬¡ç‚¹å‡»ï¼ˆå¿«æ·é”®1ï¼šâŒ¨ï¸ <kbd>option âŒ¥</kbd> + <kbd>command âŒ˜</kbd> + <kbd>O</kbd>ï¼Œå¿«æ·é”®2ï¼šâŒ¨ï¸ <kbd>esc</kbd>ï¼Œå¿«æ·é”®3ï¼šğŸ–± right-clickï¼‰æµè§ˆå™¨å³ä¸Šè§’çš„åˆ‡æ¢æŒ‰é’®å³å¯é€€å‡ºæ£€æŸ¥å™¨ã€‚

<img width="500" src="./public/toggle-button-demo2.png" alt="toggle button demo"/>

## `enableinspector` äº‹ä»¶

å¯ä»¥é€šè¿‡è®¢é˜… `enableinspector` äº‹ä»¶æ”¹å˜å¯ç”¨æ£€æŸ¥å™¨çš„é»˜è®¤è¡Œä¸ºã€‚

### é˜»æ­¢é»˜è®¤è¡Œä¸º

```ts
window.addEventListener('enableinspector', (e) => {
  e.preventDefault();
});
```

### æ·»åŠ é¢å¤–çš„å¤„ç†ç¨‹åº

```ts
window.addEventListener('enableinspector', (e) => {
  console.log('enable inspector');
});
```

## `exitinspector` äº‹ä»¶

å¯ä»¥é€šè¿‡è®¢é˜… `exitinspector` äº‹ä»¶æ”¹å˜é€€å‡ºæ£€æŸ¥å™¨çš„é»˜è®¤è¡Œä¸ºã€‚

### é˜»æ­¢é»˜è®¤è¡Œä¸º

```ts
window.addEventListener('exitinspector', (e) => {
  e.preventDefault();
});
```

### æ·»åŠ é¢å¤–çš„å¤„ç†ç¨‹åº

```ts
window.addEventListener('exitinspector', (e) => {
  console.log('exit inspector');
});
```

## `openeditor` äº‹ä»¶

å¯ä»¥é€šè¿‡è®¢é˜… `openeditor` äº‹ä»¶æ”¹å˜æ‰“å¼€ç¼–è¾‘å™¨çš„é»˜è®¤è¡Œä¸ºã€‚

### é˜»æ­¢é»˜è®¤è¡Œä¸º

```ts
window.addEventListener('openeditor', (e) => {
  e.preventDefault();
});
```

### é‡å®šå‘ `URL`

```ts
window.addEventListener('openeditor', (e) => {
  (e as CustomEvent<URL>).detail.hostname = '127.0.0.1';
});
```

## å®‰è£…åŒ…

| æºä»£ç                                                                                           | NPM ç‰ˆæœ¬                                                                                                                       | ä¸‹è½½é‡                                                                                                                       |
| ----------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------- |
| [`@open-editor/rollup`](https://github.com/zjxxxxxxxxx/open-editor/tree/main/packages/rollup)   | [![NPM version](https://img.shields.io/npm/v/@open-editor/rollup?color=)](https://www.npmjs.com/package/@open-editor/rollup)   | [![NPM downloads](https://img.shields.io/npm/dt/%40open-editor/rollup)](https://www.npmjs.com/package/@open-editor/rollup)   |
| [`@open-editor/vite`](https://github.com/zjxxxxxxxxx/open-editor/tree/main/packages/vite)       | [![NPM version](https://img.shields.io/npm/v/@open-editor/vite?color=)](https://www.npmjs.com/package/@open-editor/vite)       | [![NPM downloads](https://img.shields.io/npm/dt/%40open-editor/vite)](https://www.npmjs.com/package/@open-editor/vite)       |
| [`@open-editor/webpack`](https://github.com/zjxxxxxxxxx/open-editor/tree/main/packages/webpack) | [![NPM version](https://img.shields.io/npm/v/@open-editor/webpack?color=)](https://www.npmjs.com/package/@open-editor/webpack) | [![NPM downloads](https://img.shields.io/npm/dt/%40open-editor/webpack)](https://www.npmjs.com/package/@open-editor/webpack) |

## æ¼”ç»ƒåœº

| æºä»£ç                                                                                               | åœ¨çº¿è¯•ç©                                                                                                                                                                        |
| --------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`rollup/react15`](https://github.com/zjxxxxxxxxx/open-editor/tree/main/playgrounds/rollup-react15) | [![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/zjxxxxxxxxx/open-editor/tree/main/playground/rollup-react15) |
| [`rollup/vue2`](https://github.com/zjxxxxxxxxx/open-editor/tree/main/playgrounds/rollup-vue2)       | [![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/zjxxxxxxxxx/open-editor/tree/main/playground/rollup-vue2)    |
| [`vite/react`](https://github.com/zjxxxxxxxxx/open-editor/tree/main/playgrounds/vite-react)         | [![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/zjxxxxxxxxx/open-editor/tree/main/playground/vite-react)     |
| [`vite/vue`](https://github.com/zjxxxxxxxxx/open-editor/tree/main/playgrounds/vite-vue)             | [![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/zjxxxxxxxxx/open-editor/tree/main/playground/vite-vue)       |
| [`vite/nuxt`](https://github.com/zjxxxxxxxxx/open-editor/tree/main/playgrounds/vite-nuxt)           | [![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/zjxxxxxxxxx/open-editor/tree/main/playground/vite-nuxt)      |
| [`webpack/react`](https://github.com/zjxxxxxxxxx/open-editor/tree/main/playgrounds/webpack-react)   | [![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/zjxxxxxxxxx/open-editor/tree/main/playground/webpack-react)  |
| [`webpack/nextjs`](https://github.com/zjxxxxxxxxx/open-editor/tree/main/playgrounds/webpack-nextjs) | [![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/zjxxxxxxxxx/open-editor/tree/main/playground/webpack-nextjs) |
| [`webpack/vue`](https://github.com/zjxxxxxxxxx/open-editor/tree/main/playgrounds/webpack-vue)       | [![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/zjxxxxxxxxx/open-editor/tree/main/playground/webpack-vue)    |

## è‡´è°¢

- [react-dev-inspector](https://github.com/zthxxx/react-dev-inspector)
- [vite-plugin-vue-inspector](https://github.com/webfansplz/vite-plugin-vue-inspector)
- [launch-editor](https://github.com/yyx990803/launch-editor)
